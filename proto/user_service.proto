syntax = "proto3";

package user_service;

service UserService {
  rpc GetStudentsByIds(GetStudentsRequest) returns (GetStudentsResponse);
  rpc GetTeacherByUserId(GetTeacherRequest) returns (GetTeacherResponse);
  rpc GetStudentByUserId(GetStudentByUserRequest) returns (GetStudentByUserResponse);
  rpc GetStudentsByGradeYear(GetStudentsByGradeYearRequest) returns (GetStudentsByGradeYearResponse);
  rpc GetStudentById(GetStudentByIdRequest) returns (GetStudentByIdResponse);
}

message GetStudentsRequest {
  repeated int32 user_id = 1;
}

message GetStudentsResponse {
  repeated Student students = 1;
}

message Student {
  int32 student_id = 1;
  string first_name = 2;
  string last_name = 3;
  string email = 4;
  int32 grade = 5;
  string academic_year = 6;
}

message GetTeacherRequest {
  int32 user_id = 1;
}

message GetTeacherResponse {
  int32 teacher_id = 2;
  string first_name = 3;
  string last_name = 4;
  string email = 5;
}

message GetStudentByUserRequest {
  int32 user_id = 1;
}

message GetStudentByUserResponse {
  Student student = 1;
}

message GetStudentsByGradeYearRequest {
  int32 grade = 1;
  string academic_year = 2;
}

message GetStudentsByGradeYearResponse {
  repeated Student students = 1;
}

message GetStudentByIdRequest {
  int32 student_id = 1;
}

message GetStudentByIdResponse {
  bool found = 1;
  Student student = 2;
}